(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["params_reports_orders"],{"0764":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[t._v("首页")]),a("el-breadcrumb-item",[t._v("订单管理")]),a("el-breadcrumb-item",[t._v("订单列表")])],1),a("el-card",[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},on:{clear:t.clearSearchInput},model:{value:t.queryInfo.query,callback:function(e){t.$set(t.queryInfo,"query",e)},expression:"queryInfo.query"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.getOrderList},slot:"append"})],1)],1),a("el-col",{attrs:{span:4}})],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.orderList,border:""}},[a("el-table-column",{attrs:{align:"center",type:"index"}}),a("el-table-column",{attrs:{align:"center",prop:"order_number",label:"订单编号"}}),a("el-table-column",{attrs:{align:"center",prop:"order_price",label:"订单价格",width:"120px"}}),a("el-table-column",{attrs:{align:"center",label:"是否付款",width:"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"===e.row.pay_status?a("el-tag",{attrs:{type:"success"}},[t._v("已付款")]):a("el-tag",{attrs:{type:"danger"}},[t._v("未付款")])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"is_send",label:"是否发货",width:"90px"}}),a("el-table-column",{attrs:{align:"center",label:"下单时间",width:"160px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("dateFormat")(e.row.create_time)))]}}])}),a("el-table-column",{attrs:{align:"center",label:"操作",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{attrs:{content:"编辑商品",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:""}})],1),a("el-tooltip",{attrs:{content:"删除商品",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"success",icon:"el-icon-location",circle:""},on:{click:function(a){return t.delgoods(e.row)}}})],1)]}}])})],1),a("el-pagination",{attrs:{"current-page":t.queryInfo.pagenum,"page-sizes":[2,5,10,15],"page-size":t.queryInfo.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.total,background:""},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},n=[],i=(a("96cf"),a("1da1")),s={data:function(){return{queryInfo:{query:"",pagesize:5,pagenum:1},total:0,orderList:[]}},created:function(){this.getOrderList()},mounted:function(){},methods:{getOrderList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("orders",{params:this.queryInfo});case 2:if(e=t.sent,a=e.data,200==a.meta.status){t.next=6;break}return t.abrupt("return",this.$message.error("获取订单列表失败"));case 6:this.orderList=a.data.goods,this.total=a.data.total;case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),clearSearchInput:function(){this.queryInfo.query="",this.getOrderList()},handleSizeChange:function(t){this.queryInfo.pagesize=t,this.getOrderList()},handleCurrentChange:function(t){this.queryInfo.pagenum=t,this.getOrderList()}}},o=s,l=a("2877"),c=Object(l["a"])(o,r,n,!1,null,"7f37328c",null);e["default"]=c.exports},"426e":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"params-container"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[t._v("首页")]),a("el-breadcrumb-item",[t._v("商品管理")]),a("el-breadcrumb-item",[t._v("参数列表")])],1),a("el-card",[a("el-alert",{attrs:{title:"注意：只允许为第三级分类设置相关参数！",type:"warning","show-icon":"",closable:!1}}),a("el-row",[a("el-col",[a("span",[t._v("选择商品分类：")]),a("el-cascader",{attrs:{options:t.selectOptions,props:t.addProps},on:{change:t.parentCateChange},model:{value:t.addModel,callback:function(e){t.addModel=e},expression:"addModel"}})],1)],1),a("el-tabs",{on:{"tab-click":t.tabChange},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"动态参数",name:"many"}},[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.isDisabled},on:{click:function(e){t.addDialogVisible=!0}}},[t._v("添加参数")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.manyTableData,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._l(e.row.attr_vals,(function(r,n){return a("el-tag",{key:n,attrs:{closable:""},on:{close:function(a){return t.handleClose(n,e.row)}}},[t._v(t._s(r))])})),e.row.inputVisible?a("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:function(a){return t.handleInputConfirm(e.row)}},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.handleInputConfirm(e.row)}},model:{value:e.row.inputValue,callback:function(a){t.$set(e.row,"inputValue",a)},expression:" scope.row.inputValue"}}):a("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(a){return t.showInput(e.row)}}},[t._v("+ New Tag")])]}}])}),a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{prop:"attr_name",label:"参数名称",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{attrs:{content:"编辑分类",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(a){return t.showEditDialog(e.row)}}})],1),a("el-tooltip",{attrs:{content:"删除分类",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(a){return t.delParams(e.row)}}})],1)]}}])})],1)],1),a("el-tab-pane",{attrs:{label:"静态属性",name:"only"}},[a("el-button",{attrs:{type:"primary",size:"mini",disabled:t.isDisabled},on:{click:function(e){t.addDialogVisible=!0}}},[t._v("添加属性")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.onlyTableData,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._l(e.row.attr_vals,(function(r,n){return a("el-tag",{key:n,attrs:{closable:""},on:{close:function(a){return t.handleClose(n,e.row)}}},[t._v(t._s(r))])})),e.row.inputVisible?a("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:function(a){return t.handleInputConfirm(e.row)}},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.handleInputConfirm(e.row)}},model:{value:e.row.inputValue,callback:function(a){t.$set(e.row,"inputValue",a)},expression:" scope.row.inputValue"}}):a("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(a){return t.showInput(e.row)}}},[t._v("+ New Tag")])]}}])}),a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{prop:"attr_name",label:"属性名称",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{attrs:{content:"编辑分类",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(a){return t.showEditDialog(e.row)}}})],1),a("el-tooltip",{attrs:{content:"删除分类",placement:"top",enterable:!1}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(a){return t.delParams(e.row)}}})],1)]}}])})],1)],1)],1)],1),a("el-dialog",{attrs:{title:"添加"+t.titleText,visible:t.addDialogVisible,width:"40%","close-on-click-modal":!1},on:{"update:visible":function(e){t.addDialogVisible=e},close:t.closeaddParamsDialog}},[a("el-form",{ref:"addParamsFormRef",attrs:{model:t.addParamsForm,"status-icon":"",rules:t.addParamsFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:t.titleText,prop:"attr_name"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.addParamsForm.attr_name,callback:function(e){t.$set(t.addParamsForm,"attr_name",e)},expression:"addParamsForm.attr_name"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submitaddParamsForm}},[t._v("确 定")]),a("el-button",{on:{click:function(e){t.addDialogVisible=!1}}},[t._v("取 消")])],1)],1),a("el-dialog",{attrs:{title:"修改"+t.titleText,visible:t.editDialogVisible,width:"40%","close-on-click-modal":!1},on:{"update:visible":function(e){t.editDialogVisible=e},close:t.closeeditParamsDialog}},[a("el-form",{ref:"editParamsFormRef",attrs:{model:t.editParamsForm,"status-icon":"",rules:t.editParamsFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:t.titleText,prop:"attr_name"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.editParamsForm.attr_name,callback:function(e){t.$set(t.editParamsForm,"attr_name",e)},expression:"editParamsForm.attr_name"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submiteditParamsForm}},[t._v("确 定")]),a("el-button",{on:{click:function(e){t.editDialogVisible=!1}}},[t._v("取 消")])],1)],1)],1)},n=[],i=(a("99af"),a("a15b"),a("a434"),a("ac1f"),a("1276"),a("498a"),a("159b"),a("96cf"),a("1da1")),s={data:function(){return{selectOptions:[],addModel:[],addProps:{expandTrigger:"hover",label:"cat_name",value:"cat_id",children:"children"},activeName:"many",manyTableData:[],onlyTableData:[],addDialogVisible:!1,addParamsForm:{attr_name:""},addParamsFormRules:{attr_name:[{required:!0,message:"请输入参数名称",trigger:"blur"}]},editDialogVisible:!1,editParamsForm:{attr_name:""},editParamsFormRules:{attr_name:[{required:!0,message:"请输入参数名称",trigger:"blur"}]}}},created:function(){this.getCateList()},mounted:function(){},methods:{parentCateChange:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(3==this.addModel.length){t.next=5;break}return this.addModel=[],this.manyTableData=[],this.onlyTableData=[],t.abrupt("return");case 5:return t.next=7,this.$http.get("categories/".concat(this.cateId,"/attributes"),{params:{sel:this.activeName}});case 7:if(e=t.sent,a=e.data,200==a.meta.status){t.next=11;break}return t.abrupt("return",this.$message.error("获取分类数据失败"));case 11:a.data.forEach((function(t){t.attr_vals=t.attr_vals.trim()?t.attr_vals.split(" "):[],t.inputVisible=!1,t.inputValue=""})),"many"===this.activeName?this.manyTableData=a.data:this.onlyTableData=a.data;case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),showInput:function(t){var e=this;t.inputVisible=!0,this.$nextTick((function(t){e.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(t){if(0===t.inputValue.trim().length)return t.inputValue="",void(t.inputVisible=!1);t.attr_vals.push(t.inputValue.trim()),t.inputValue="",t.inputVisible=!1,this.saveTagDate(t)},saveTagDate:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.put("categories/".concat(this.cateId,"/attributes/").concat(e.attr_id),{attr_name:e.attr_name,attr_sel:e.attr_sel,attr_vals:e.attr_vals.join(" ")});case 2:if(a=t.sent,r=a.data,200==r.meta.status){t.next=6;break}return t.abrupt("return",this.$message.error(r.meta.msg));case 6:this.$message.success(r.meta.msg);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getCateList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("categories?type=3");case 2:if(e=t.sent,a=e.data,200==a.meta.status){t.next=6;break}return t.abrupt("return",this.$message.error(a.meta.msg));case 6:this.selectOptions=a.data;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),tabChange:function(){3===this.addModel.length&&this.parentCateChange()},closeaddParamsDialog:function(){this.$refs.addParamsFormRef.resetFields()},submitaddParamsForm:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.post("categories/".concat(this.cateId,"/attributes"),{attr_name:this.addParamsForm.attr_name,attr_sel:this.activeName});case 2:if(e=t.sent,a=e.data,201==a.meta.status){t.next=6;break}return t.abrupt("return",this.$message.error("添加参数失败"));case 6:this.addDialogVisible=!1,this.parentCateChange();case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),showEditDialog:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("categories/".concat(this.cateId,"/attributes/").concat(e.attr_id));case 2:if(a=t.sent,r=a.data,200==r.meta.status){t.next=6;break}return t.abrupt("return",this.$message.error("获取参数失败"));case 6:this.editParamsForm=r.data,this.editDialogVisible=!0;case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),closeeditParamsDialog:function(){this.$refs.editParamsFormRef.resetFields()},submiteditParamsForm:function(){var t=this;this.$refs.editParamsFormRef.validate(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(a){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.$http.put("categories/".concat(t.cateId,"/attributes/").concat(t.editParamsForm.attr_id),{attr_name:t.editParamsForm.attr_name,attr_sel:t.activeName});case 4:if(r=e.sent,n=r.data,200==n.meta.status){e.next=8;break}return e.abrupt("return",t.$message.error("更新参数失败"));case 8:t.parentCateChange(),t.editDialogVisible=!1;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},handleClose:function(t,e){e.attr_vals.splice(t,1),this.saveTagDate(e)},delParams:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(t){return t}));case 2:if(a=t.sent,"confirm"==a){t.next=5;break}return t.abrupt("return",this.$message.info("用户已取消删除"));case 5:return t.next=7,this.$http.delete("categories/".concat(this.cateId,"/attributes/").concat(e.attr_id));case 7:if(r=t.sent,n=r.data,200==n.meta.status){t.next=11;break}return t.abrupt("return",this.$message.error(n.meta.msg));case 11:this.$message.success("删除分类成功"),this.parentCateChange();case 13:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},computed:{isDisabled:function(){return 3!==this.addModel.length},cateId:function(){return 3===this.addModel.length?this.addModel[2]:null},titleText:function(){return"many"===this.activeName?"动态参数":"静态参数"}}},o=s,l=(a("8c38"),a("2877")),c=Object(l["a"])(o,r,n,!1,null,"e41d5ba8",null);e["default"]=c.exports},"498a":function(t,e,a){"use strict";var r=a("23e7"),n=a("58a8").trim,i=a("e070");r({target:"String",proto:!0,forced:i("trim")},{trim:function(){return n(this)}})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var r=a("1d80"),n=a("5899"),i="["+n+"]",s=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),l=function(t){return function(e){var a=String(r(e));return 1&t&&(a=a.replace(s,"")),2&t&&(a=a.replace(o,"")),a}};t.exports={start:l(1),end:l(2),trim:l(3)}},"8c38":function(t,e,a){"use strict";var r=a("ff61"),n=a.n(r);n.a},c33f:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"reports_container"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[t._v("首页")]),a("el-breadcrumb-item",[t._v("数据统计")]),a("el-breadcrumb-item",[t._v("数据报表")])],1),a("el-card",[a("div",{staticStyle:{width:"750px",height:"400px"},attrs:{id:"echarts"}})])],1)},n=[],i=(a("96cf"),a("1da1")),s=a("164e"),o=a.n(s),l=a("60bb"),c=a.n(l),u={data:function(){return{options:{title:{text:"用户来源"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#E9EEF3"}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{boundaryGap:!1}],yAxis:[{type:"value"}]}}},created:function(){},mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=o.a.init(document.getElementById("echarts")),t.next=3,this.$http.get("reports/type/1");case 3:if(a=t.sent,r=a.data,200===r.meta.status){t.next=7;break}return t.abrupt("return",this.$message.error("获取数据报表失败"));case 7:n=c.a.merge(this.options,r.data),e.setOption(n);case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{}},d=u,p=a("2877"),m=Object(p["a"])(d,r,n,!1,null,"2bdb5e24",null);e["default"]=m.exports},e070:function(t,e,a){var r=a("d039"),n=a("5899"),i="​᠎";t.exports=function(t){return r((function(){return!!n[t]()||i[t]()!=i||n[t].name!==t}))}},ff61:function(t,e,a){}}]);
//# sourceMappingURL=params_reports_orders.826ba0e8.js.map