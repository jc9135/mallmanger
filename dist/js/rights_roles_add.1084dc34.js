(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["rights_roles_add"],{"057f":function(t,e,r){var a=r("fc6a"),o=r("241c").f,n={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return o(t)}catch(e){return i.slice()}};t.exports.f=function(t){return i&&"[object Window]"==n.call(t)?s(t):o(a(t))}},"25f0":function(t,e,r){"use strict";var a=r("6eeb"),o=r("825a"),n=r("d039"),i=r("ad6d"),s="toString",l=RegExp.prototype,c=l[s],u=n((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=c.name!=s;(u||d)&&a(RegExp.prototype,s,(function(){var t=o(this),e=String(t.source),r=t.flags,a=String(void 0===r&&t instanceof RegExp&&!("flags"in l)?i.call(t):r);return"/"+e+"/"+a}),{unsafe:!0})},"3ca3":function(t,e,r){"use strict";var a=r("6547").charAt,o=r("69f3"),n=r("7dd0"),i="String Iterator",s=o.set,l=o.getterFor(i);n(String,"String",(function(t){s(this,{type:i,string:String(t),index:0})}),(function(){var t,e=l(this),r=e.string,o=e.index;return o>=r.length?{value:void 0,done:!0}:(t=a(r,o),e.index+=t.length,{value:t,done:!1})}))},"4df4":function(t,e,r){"use strict";var a=r("f8c2"),o=r("7b0b"),n=r("9bdd"),i=r("e95a"),s=r("50c4"),l=r("8418"),c=r("35a1");t.exports=function(t){var e,r,u,d,f,m=o(t),h="function"==typeof this?this:Array,g=arguments.length,p=g>1?arguments[1]:void 0,b=void 0!==p,v=0,y=c(m);if(b&&(p=a(p,g>2?arguments[2]:void 0,2)),void 0==y||h==Array&&i(y))for(e=s(m.length),r=new h(e);e>v;v++)l(r,v,b?p(m[v],v):m[v]);else for(d=y.call(m),f=d.next,r=new h;!(u=f.call(d)).done;v++)l(r,v,b?n(d,p,[u.value,v],!0):u.value);return r.length=v,r}},"5ed8":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[t._v("首页")]),r("el-breadcrumb-item",[t._v("商品管理")]),r("el-breadcrumb-item",[t._v("添加商品")])],1),r("el-card",[r("el-alert",{attrs:{title:"添加商品信息",type:"info",center:"","show-icon":"",closable:!1}}),r("el-steps",{attrs:{active:t.activeNum-0,"finish-status":"success","align-center":""}},[r("el-step",{attrs:{title:"基本信息"}}),r("el-step",{attrs:{title:"商品参数"}}),r("el-step",{attrs:{title:"商品属性"}}),r("el-step",{attrs:{title:"商品图片"}}),r("el-step",{attrs:{title:"商品内容"}}),r("el-step",{attrs:{title:"完成"}})],1),r("el-form",{ref:"addGoodsFormRef",attrs:{model:t.addGoodsForm,"status-icon":"",rules:t.addGoodsFormRules,"label-width":"100px","label-position":"top"}},[r("el-tabs",{attrs:{"tab-position":"left","before-leave":t.beforeTabsLeave},on:{"tab-click":t.tabClicked},model:{value:t.activeNum,callback:function(e){t.activeNum=e},expression:"activeNum"}},[r("el-tab-pane",{attrs:{label:"基本信息",name:"0"}},[r("el-form-item",{attrs:{label:"商品名称",prop:"goods_name"}},[r("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.addGoodsForm.goods_name,callback:function(e){t.$set(t.addGoodsForm,"goods_name",e)},expression:"addGoodsForm.goods_name"}})],1),r("el-form-item",{attrs:{label:"商品价格",prop:"goods_price"}},[r("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:t.addGoodsForm.goods_price,callback:function(e){t.$set(t.addGoodsForm,"goods_price",e)},expression:"addGoodsForm.goods_price"}})],1),r("el-form-item",{attrs:{label:"商品重量",prop:"goods_weight"}},[r("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:t.addGoodsForm.goods_weight,callback:function(e){t.$set(t.addGoodsForm,"goods_weight",e)},expression:"addGoodsForm.goods_weight"}})],1),r("el-form-item",{attrs:{label:"商品数量",prop:"goods_number"}},[r("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:t.addGoodsForm.goods_number,callback:function(e){t.$set(t.addGoodsForm,"goods_number",e)},expression:"addGoodsForm.goods_number"}})],1),r("el-form-item",{attrs:{label:"商品分类",prop:"goods_cat"}},[r("el-cascader",{attrs:{options:t.selectOptions,props:t.addProps},on:{change:t.handlChange},model:{value:t.addGoodsForm.goods_cat,callback:function(e){t.$set(t.addGoodsForm,"goods_cat",e)},expression:"addGoodsForm.goods_cat"}})],1)],1),r("el-tab-pane",{attrs:{label:"商品参数",name:"1"}},t._l(t.manyTableData,(function(e,a){return r("el-form-item",{key:a,attrs:{label:e.attr_name}},[r("el-checkbox-group",{model:{value:e.attr_vals,callback:function(r){t.$set(e,"attr_vals",r)},expression:"item.attr_vals"}},t._l(e.attr_vals,(function(t,e){return r("el-checkbox",{key:e,attrs:{label:t,border:""}})})),1)],1)})),1),r("el-tab-pane",{attrs:{label:"商品属性",name:"2"}},t._l(t.onlyTableData,(function(e,a){return r("el-form-item",{key:a,attrs:{label:e.attr_name}},[r("el-checkbox-group",{model:{value:e.attr_vals,callback:function(r){t.$set(e,"attr_vals",r)},expression:"item.attr_vals"}},t._l(e.attr_vals,(function(t,e){return r("el-checkbox",{key:e,attrs:{label:t,border:""}})})),1)],1)})),1),r("el-tab-pane",{attrs:{label:"商品图片",name:"3"}},[r("el-upload",{attrs:{action:t.action,"on-preview":t.handlePreview,"on-remove":t.handleRemove,"file-list":t.fileList,"list-type":"picture",headers:t.headerObj,"on-success":t.uploadSuccess}},[r("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1)],1),r("el-tab-pane",{attrs:{label:"商品内容",name:"4"}},[r("quill-editor",{model:{value:t.addGoodsForm.goods_introduce,callback:function(e){t.$set(t.addGoodsForm,"goods_introduce",e)},expression:"addGoodsForm.goods_introduce"}}),r("el-button",{staticClass:"addGoods",attrs:{type:"primary"},on:{click:t.addGoods}},[t._v("添加商品")])],1)],1)],1)],1),r("el-dialog",{attrs:{title:"图片预览",visible:t.impPreViewVisible,width:"40%","close-on-click-modal":!1},on:{"update:visible":function(e){t.impPreViewVisible=e}}},[r("img",{staticClass:"preViewImg",attrs:{src:t.imgSrc,alt:""}})])],1)},o=[],n=(r("c740"),r("a15b"),r("a434"),r("ac1f"),r("1276"),r("159b"),r("96cf"),r("1da1")),i=r("60bb"),s=r.n(i),l={data:function(){return{activeNum:"0",addGoodsForm:{goods_name:"",goods_price:0,goods_number:0,goods_weight:0,goods_cat:[],pics:[],goods_introduce:""},impPreViewVisible:!1,addGoodsFormRules:{goods_name:[{required:!0,message:"请输入商品名称",trigger:"blur"}],goods_price:[{required:!0,message:"请输入商品价格",trigger:"blur"}],goods_number:[{required:!0,message:"请输入商品数量",trigger:"blur"}],goods_weight:[{required:!0,message:"请输入商品重量",trigger:"blur"}],goods_cat:[{required:!0,message:"请选择商品分类",trigger:"blur"}]},selectOptions:[],addModel:[],addProps:{expandTrigger:"hover",label:"cat_name",value:"cat_id",children:"children"},manyTableData:[],onlyTableData:[],fileList:[],action:"http://127.0.0.1:8888/api/private/v1/upload",headerObj:{Authorization:window.sessionStorage.getItem("token")},imgSrc:""}},created:function(){this.getCateList()},mounted:function(){},methods:{getCateList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("categories");case 2:if(e=t.sent,r=e.data,200==r.meta.status){t.next=6;break}return t.abrupt("return",this.$message.error("获取商品分类数据失败！"));case 6:this.selectOptions=r.data;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handlChange:function(){3==this.addModel.length||(this.addModel=[])},beforeTabsLeave:function(t,e){if("0"===e&&3!==this.addGoodsForm.goods_cat.length)return this.$message.error("请先选择商品分类！"),!1},tabClicked:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("1"!==this.activeNum){t.next=9;break}return t.next=3,this.$http.get("categories/".concat(this.cateId,"/attributes"),{params:{sel:"many"}});case 3:e=t.sent,r=e.data,r.data.forEach((function(t){""!=t.attr_vals?t.attr_vals=t.attr_vals.split(" "):t.attr_vals=[]})),this.manyTableData=r.data,t.next=16;break;case 9:if("2"!==this.activeNum){t.next=16;break}return t.next=12,this.$http.get("categories/".concat(this.cateId,"/attributes"),{params:{sel:"only"}});case 12:a=t.sent,o=a.data,o.data.forEach((function(t){""!=t.attr_vals?t.attr_vals=t.attr_vals.split(" "):t.attr_vals=[]})),this.onlyTableData=o.data;case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handlePreview:function(t){this.imgSrc=t.response.data.url,this.impPreViewVisible=!0},handleRemove:function(t,e){var r=t.response.data.tmp_path,a=this.addGoodsForm.pics.findIndex((function(t){return t.pic===r}));this.addGoodsForm.pics.splice(a,1)},uploadSuccess:function(t,e,r){var a={pic:t.data.tmp_path};this.addGoodsForm.pics.push(a)},addGoods:function(){var t=this;this.$refs.addGoodsFormRef.validate(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){var a,o,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=11;break}return a=s.a.cloneDeep(t.addGoodsForm),a.goods_cat=a.goods_cat.join(","),e.next=5,t.$http.post("goods",a);case 5:if(o=e.sent,n=o.data,201==n.meta.status){e.next=9;break}return e.abrupt("return",t.$message.error("创建商品失败"));case 9:t.$message.success("添加商品成功！"),t.$router.push("/goods");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},computed:{cateId:function(){return 3===this.addGoodsForm.goods_cat.length?this.addGoodsForm.goods_cat[2]:null}}},c=l,u=(r("d546"),r("2877")),d=Object(u["a"])(c,a,o,!1,null,"9437248c",null);e["default"]=d.exports},"746f":function(t,e,r){var a=r("428f"),o=r("5135"),n=r("c032"),i=r("9bf2").f;t.exports=function(t){var e=a.Symbol||(a.Symbol={});o(e,t)||i(e,t,{value:n.f(t)})}},"74c7":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"roles-container"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[t._v("首页")]),r("el-breadcrumb-item",[t._v("权限管理")]),r("el-breadcrumb-item",[t._v("角色列表")])],1),r("el-card",[r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addDialogVisible=!0}}},[t._v("添加角色")]),r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.rolesList,border:"",stripe:""}},[r("el-table-column",{attrs:{type:"expand",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.children,(function(a,o){return r("el-row",{key:a.id,class:[0===o?"br-top":"","br-bottom vcenter"]},[r("el-col",{attrs:{span:5}},[r("el-tag",{attrs:{closable:""},on:{close:function(r){return t.delRolesTag(e.row,a.id)}}},[t._v(t._s(a.authName))]),r("i",{staticClass:"el-icon-caret-right"})],1),r("el-col",{attrs:{span:19}},t._l(a.children,(function(a,o){return r("el-row",{key:a.id,class:[0===o?"":"br-top","vcenter"]},[r("el-col",{attrs:{span:6}},[r("el-tag",{attrs:{closable:"",type:"success"},on:{close:function(r){return t.delRolesTag(e.row,a.id)}}},[t._v(t._s(a.authName))]),r("i",{staticClass:"el-icon-caret-right"})],1),r("el-col",{attrs:{span:18}},t._l(a.children,(function(a){return r("el-tag",{key:a.id,attrs:{closable:"",type:"warning"},on:{close:function(r){return t.delRolesTag(e.row,a.id)}}},[t._v(t._s(a.authName))])})),1)],1)})),1)],1)}))}}])}),r("el-table-column",{attrs:{type:"index",align:"center"}}),r("el-table-column",{attrs:{prop:"roleName",label:"角色名称",align:"center"}}),r("el-table-column",{attrs:{prop:"roleDesc",label:"角色描述",align:"center"}}),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-tooltip",{attrs:{content:"编辑角色",placement:"top",enterable:!1}},[r("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(r){return t.showEditDialog(e.row.id)}}})],1),r("el-tooltip",{attrs:{content:"删除角色",placement:"top",enterable:!1}},[r("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(r){return t.delRoles(e.row)}}})],1),r("el-tooltip",{attrs:{content:"分配权限",placement:"top",enterable:!1}},[r("el-button",{attrs:{type:"warning",icon:"el-icon-setting",circle:""},on:{click:function(r){return t.setRole(e.row)}}})],1)]}}])})],1)],1),r("el-dialog",{attrs:{title:"分配权限",visible:t.setRightVisible,width:"40%"},on:{"update:visible":function(e){t.setRightVisible=e},close:t.clearArr}},[r("div",[r("el-tree",{ref:"setRightRef",attrs:{"node-key":"id","default-checked-keys":t.defKeys,data:t.rightsList,props:t.rightsProps,"show-checkbox":"","default-expand-all":!0}})],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.setRightVisible=!1}}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:t.setRight}},[t._v("确 定")])],1)]),r("el-dialog",{attrs:{title:"添加角色",visible:t.addDialogVisible,width:"40%","close-on-click-modal":!1},on:{"update:visible":function(e){t.addDialogVisible=e},close:t.closeAddRightDialog}},[r("el-form",{ref:"addRightFormRef",attrs:{model:t.addRightForm,"status-icon":"",rules:t.addRightFormRules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[r("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.addRightForm.roleName,callback:function(e){t.$set(t.addRightForm,"roleName",e)},expression:"addRightForm.roleName"}})],1),r("el-form-item",{attrs:{label:"角色描述"}},[r("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.addRightForm.roleDesc,callback:function(e){t.$set(t.addRightForm,"roleDesc",e)},expression:"addRightForm.roleDesc"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:t.submitAddRightForm}},[t._v("确 定")]),r("el-button",{on:{click:function(e){t.addDialogVisible=!1}}},[t._v("取 消")])],1)],1),r("el-dialog",{attrs:{title:"编辑角色",visible:t.editDialogVisible,width:"40%","close-on-click-modal":!1},on:{"update:visible":function(e){t.editDialogVisible=e},close:t.closeEditRightDialog}},[r("el-form",{ref:"editRightFormRef",attrs:{model:t.editRightsForm,"status-icon":"",rules:t.editRightFormRules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[r("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.editRightsForm.roleName,callback:function(e){t.$set(t.editRightsForm,"roleName",e)},expression:"editRightsForm.roleName"}})],1),r("el-form-item",{attrs:{label:"角色描述"}},[r("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.editRightsForm.roleDesc,callback:function(e){t.$set(t.editRightsForm,"roleDesc",e)},expression:"editRightsForm.roleDesc"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:t.submitEditRightForm}},[t._v("确 定")]),r("el-button",{on:{click:function(e){t.editDialogVisible=!1}}},[t._v("取 消")])],1)],1)],1)},o=[];r("99af"),r("a15b"),r("159b");function n(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}r("a4d3"),r("e01a"),r("d28b"),r("a630"),r("e260"),r("d3b7"),r("25f0"),r("3ca3"),r("ddb0");function i(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function l(t){return n(t)||i(t)||s()}r("96cf");var c=r("1da1"),u={data:function(){return{rolesList:[],setRightVisible:!1,addDialogVisible:!1,editDialogVisible:!1,rightsList:[],addRightForm:{roleName:"",roleDesc:""},editRightsForm:{},addRightFormRules:{roleName:[{required:!0,message:"请输入角色名称",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}]},editRightFormRules:{roleName:[{required:!0,message:"请输入角色名称",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}]},rightsProps:{label:"authName",children:"children"},defKeys:[105,116],roleId:""}},created:function(){this.getRolesList()},mounted:function(){},methods:{getRolesList:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("roles");case 2:if(e=t.sent,r=e.data,200==r.meta.status){t.next=6;break}return t.abrupt("return",this.$message.error("获取角色列表失败"));case 6:this.rolesList=r.data,this.$message.success("获取角色列表成功");case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),submitAddRightForm:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.post("roles",this.addRightForm);case 2:if(e=t.sent,r=e.data,201==r.meta.status){t.next=6;break}return t.abrupt("return",this.$message.error("创建角色失败"));case 6:this.getRolesList(),this.$message.success("创建角色成功"),this.addDialogVisible=!1;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),closeAddRightDialog:function(){this.addRightForm.roleName="",this.addRightForm.roleDesc="",this.$refs.addRightFormRef.resetFields()},showEditDialog:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.editDialogVisible=!0,t.next=3,this.$http.get("roles/"+e);case 3:r=t.sent,a=r.data,this.editRightsForm=a.data;case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),submitEditRightForm:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.put("roles/".concat(this.editRightsForm.roleId),{roleName:this.editRightsForm.roleName,roleDesc:this.editRightsForm.roleDesc});case 2:if(e=t.sent,r=e.data,200==r.meta.status){t.next=6;break}return t.abrupt("return",this.$message.error("编辑角色失败"));case 6:this.$message.success("编辑角色成功"),this.getRolesList(),this.editDialogVisible=!1;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),closeEditRightDialog:function(){this.$refs.editRightFormRef.resetFields()},delRoles:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(t){return t}));case 2:if(r=t.sent,"confirm"==r){t.next=5;break}return t.abrupt("return",this.$message.info("用户已取消删除"));case 5:return t.next=7,this.$http.delete("roles/".concat(e.id));case 7:if(a=t.sent,o=a.data,200==o.meta.status){t.next=11;break}return t.abrupt("return",this.$message.error(o.meta.msg));case 11:this.$message.success("删除用户成功"),this.getRolesList();case 13:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),setRole:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.roleId=e.id,t.next=3,this.$http.get("rights/tree");case 3:if(r=t.sent,a=r.data,200==a.meta.status){t.next=7;break}return t.abrupt("return",this.$message.error("获取权限数据失败"));case 7:this.rightsList=a.data,this.getThreeRightsId(e,this.defKeys),this.setRightVisible=!0;case 10:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),delRolesTag:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e,r){var a,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$confirm("此操作将永久删除该权限, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(t){return t}));case 2:if(a=t.sent,"confirm"==a){t.next=5;break}return t.abrupt("return",this.$message.info("用户已取消删除"));case 5:return t.next=7,this.$http.delete("roles/".concat(e.id,"/rights/").concat(r));case 7:o=t.sent,n=o.data,this.$message.info("给权限已成功删除"),e.children=n.data;case 11:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}(),getThreeRightsId:function(t,e){var r=this;if(!t.children)return e.push(t.id);t.children.forEach((function(t){return r.getThreeRightsId(t,e)}))},clearArr:function(){this.defKeys=[]},setRight:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[].concat(l(this.$refs.setRightRef.getCheckedKeys()),l(this.$refs.setRightRef.getHalfCheckedKeys())),r=e.join(","),t.next=4,this.$http.post("roles/".concat(this.roleId,"/rights"),{rids:r});case 4:if(a=t.sent,o=a.data,200==o.meta.status){t.next=8;break}return t.abrupt("return",this.$message.error("分配权限失败"));case 8:this.$message.success("分配权限成功"),this.getRolesList(),this.setRightVisible=!1;case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},d=u,f=(r("8bd4"),r("2877")),m=Object(f["a"])(d,a,o,!1,null,"707e88b5",null);e["default"]=m.exports},8579:function(t,e,r){},"8bd4":function(t,e,r){"use strict";var a=r("8579"),o=r.n(a);o.a},a4d3:function(t,e,r){"use strict";var a=r("23e7"),o=r("da84"),n=r("d066"),i=r("c430"),s=r("83ab"),l=r("4930"),c=r("fdbf"),u=r("d039"),d=r("5135"),f=r("e8b5"),m=r("861d"),h=r("825a"),g=r("7b0b"),p=r("fc6a"),b=r("c04e"),v=r("5c6c"),y=r("7c73"),w=r("df75"),R=r("241c"),_=r("057f"),x=r("7418"),k=r("06cf"),F=r("9bf2"),$=r("d1e7"),S=r("9112"),O=r("6eeb"),D=r("5692"),G=r("f772"),j=r("d012"),N=r("90e3"),V=r("b622"),T=r("c032"),L=r("746f"),E=r("d44e"),A=r("69f3"),I=r("b727").forEach,P=G("hidden"),C="Symbol",q="prototype",K=V("toPrimitive"),B=A.set,J=A.getterFor(C),M=Object[q],z=o.Symbol,H=n("JSON","stringify"),Q=k.f,W=F.f,U=_.f,X=$.f,Y=D("symbols"),Z=D("op-symbols"),tt=D("string-to-symbol-registry"),et=D("symbol-to-string-registry"),rt=D("wks"),at=o.QObject,ot=!at||!at[q]||!at[q].findChild,nt=s&&u((function(){return 7!=y(W({},"a",{get:function(){return W(this,"a",{value:7}).a}})).a}))?function(t,e,r){var a=Q(M,e);a&&delete M[e],W(t,e,r),a&&t!==M&&W(M,e,a)}:W,it=function(t,e){var r=Y[t]=y(z[q]);return B(r,{type:C,tag:t,description:e}),s||(r.description=e),r},st=c?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof z},lt=function(t,e,r){t===M&&lt(Z,e,r),h(t);var a=b(e,!0);return h(r),d(Y,a)?(r.enumerable?(d(t,P)&&t[P][a]&&(t[P][a]=!1),r=y(r,{enumerable:v(0,!1)})):(d(t,P)||W(t,P,v(1,{})),t[P][a]=!0),nt(t,a,r)):W(t,a,r)},ct=function(t,e){h(t);var r=p(e),a=w(r).concat(ht(r));return I(a,(function(e){s&&!dt.call(r,e)||lt(t,e,r[e])})),t},ut=function(t,e){return void 0===e?y(t):ct(y(t),e)},dt=function(t){var e=b(t,!0),r=X.call(this,e);return!(this===M&&d(Y,e)&&!d(Z,e))&&(!(r||!d(this,e)||!d(Y,e)||d(this,P)&&this[P][e])||r)},ft=function(t,e){var r=p(t),a=b(e,!0);if(r!==M||!d(Y,a)||d(Z,a)){var o=Q(r,a);return!o||!d(Y,a)||d(r,P)&&r[P][a]||(o.enumerable=!0),o}},mt=function(t){var e=U(p(t)),r=[];return I(e,(function(t){d(Y,t)||d(j,t)||r.push(t)})),r},ht=function(t){var e=t===M,r=U(e?Z:p(t)),a=[];return I(r,(function(t){!d(Y,t)||e&&!d(M,t)||a.push(Y[t])})),a};if(l||(z=function(){if(this instanceof z)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=N(t),r=function(t){this===M&&r.call(Z,t),d(this,P)&&d(this[P],e)&&(this[P][e]=!1),nt(this,e,v(1,t))};return s&&ot&&nt(M,e,{configurable:!0,set:r}),it(e,t)},O(z[q],"toString",(function(){return J(this).tag})),O(z,"withoutSetter",(function(t){return it(N(t),t)})),$.f=dt,F.f=lt,k.f=ft,R.f=_.f=mt,x.f=ht,T.f=function(t){return it(V(t),t)},s&&(W(z[q],"description",{configurable:!0,get:function(){return J(this).description}}),i||O(M,"propertyIsEnumerable",dt,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:z}),I(w(rt),(function(t){L(t)})),a({target:C,stat:!0,forced:!l},{for:function(t){var e=String(t);if(d(tt,e))return tt[e];var r=z(e);return tt[e]=r,et[r]=e,r},keyFor:function(t){if(!st(t))throw TypeError(t+" is not a symbol");if(d(et,t))return et[t]},useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),a({target:"Object",stat:!0,forced:!l,sham:!s},{create:ut,defineProperty:lt,defineProperties:ct,getOwnPropertyDescriptor:ft}),a({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:mt,getOwnPropertySymbols:ht}),a({target:"Object",stat:!0,forced:u((function(){x.f(1)}))},{getOwnPropertySymbols:function(t){return x.f(g(t))}}),H){var gt=!l||u((function(){var t=z();return"[null]"!=H([t])||"{}"!=H({a:t})||"{}"!=H(Object(t))}));a({target:"JSON",stat:!0,forced:gt},{stringify:function(t,e,r){var a,o=[t],n=1;while(arguments.length>n)o.push(arguments[n++]);if(a=e,(m(e)||void 0!==t)&&!st(t))return f(e)||(e=function(t,e){if("function"==typeof a&&(e=a.call(this,t,e)),!st(e))return e}),o[1]=e,H.apply(null,o)}})}z[q][K]||S(z[q],K,z[q].valueOf),E(z,C),j[P]=!0},a630:function(t,e,r){var a=r("23e7"),o=r("4df4"),n=r("1c7e"),i=!n((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:i},{from:o})},aefc:function(t,e,r){},c032:function(t,e,r){var a=r("b622");e.f=a},c740:function(t,e,r){"use strict";var a=r("23e7"),o=r("b727").findIndex,n=r("44d2"),i="findIndex",s=!0;i in[]&&Array(1)[i]((function(){s=!1})),a({target:"Array",proto:!0,forced:s},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(i)},d28b:function(t,e,r){var a=r("746f");a("iterator")},d546:function(t,e,r){"use strict";var a=r("aefc"),o=r.n(a);o.a},ddb0:function(t,e,r){var a=r("da84"),o=r("fdbc"),n=r("e260"),i=r("9112"),s=r("b622"),l=s("iterator"),c=s("toStringTag"),u=n.values;for(var d in o){var f=a[d],m=f&&f.prototype;if(m){if(m[l]!==u)try{i(m,l,u)}catch(g){m[l]=u}if(m[c]||i(m,c,d),o[d])for(var h in n)if(m[h]!==n[h])try{i(m,h,n[h])}catch(g){m[h]=n[h]}}}},e01a:function(t,e,r){"use strict";var a=r("23e7"),o=r("83ab"),n=r("da84"),i=r("5135"),s=r("861d"),l=r("9bf2").f,c=r("e893"),u=n.Symbol;if(o&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new u(t):void 0===t?u():u(t);return""===t&&(d[e]=!0),e};c(f,u);var m=f.prototype=u.prototype;m.constructor=f;var h=m.toString,g="Symbol(test)"==String(u("test")),p=/^Symbol\((.*)\)[^)]+$/;l(m,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=h.call(t);if(i(d,t))return"";var r=g?e.slice(7,-1):e.replace(p,"$1");return""===r?void 0:r}}),a({global:!0,forced:!0},{Symbol:f})}},f33c:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"rights-container"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[t._v("首页")]),r("el-breadcrumb-item",[t._v("权限管理")]),r("el-breadcrumb-item",[t._v("权限列表")])],1),r("el-card",[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.rightsList,border:"",stripe:""}},[r("el-table-column",{attrs:{type:"index",align:"center"}}),r("el-table-column",{attrs:{prop:"authName",label:"权限名称",width:"180",align:"center"}}),r("el-table-column",{attrs:{prop:"path",label:"路径",align:"center"}}),r("el-table-column",{attrs:{label:"权限等级",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.level?r("el-tag",[t._v("一级")]):t._e(),1==e.row.level?r("el-tag",{attrs:{type:"success"}},[t._v("二级")]):t._e(),2==e.row.level?r("el-tag",{attrs:{type:"warning"}},[t._v("三级")]):t._e()]}}])})],1)],1)],1)},o=[],n=(r("96cf"),r("1da1")),i={data:function(){return{rightsList:[]}},created:function(){this.getRightList()},mounted:function(){},methods:{getRightList:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("rights/list");case 2:if(e=t.sent,r=e.data,200==r.meta.status){t.next=6;break}return t.abrupt("return",this.$message.error("获取权限列表失败"));case 6:this.rightsList=r.data,this.total=r.data.total,this.$message.success("获取权限列表成功");case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},s=i,l=r("2877"),c=Object(l["a"])(s,a,o,!1,null,"71dba98d",null);e["default"]=c.exports}}]);
//# sourceMappingURL=rights_roles_add.1084dc34.js.map